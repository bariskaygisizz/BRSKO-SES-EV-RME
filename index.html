<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>BRSKO Notes â€“ Neon Night</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box}

/* Neon Arka Plan */
body{
    font-family:Arial;
    color:white;
    background:linear-gradient(135deg,#00eaff,#ff00ff,#ffea00,#ff0077,#00ff99,#0055ff);
    background-size:400% 400%;
    animation:bg 6s infinite alternate;
    padding:20px;
}
@keyframes bg{
    0%{background-position:0 50%}
    100%{background-position:100% 50%}
}

/* Kart */
.card{
    max-width:550px;
    margin:30px auto;
    background:rgba(0,0,0,0.55);
    padding:25px;
    border-radius:20px;
    box-shadow:0 0 25px cyan;
    backdrop-filter:blur(8px);
}

/* Ä°letiÅŸim */
.insta-btn{
    display:flex;align-items:center;justify-content:center;
    gap:10px;
    width:100%;padding:12px;
    background:linear-gradient(45deg,#ff0080,#ff5e00);
    text-align:center;color:white;font-size:18px;
    border-radius:12px;text-decoration:none;font-weight:bold;
    margin-bottom:25px;box-shadow:0 0 15px #ff0080;
}
.insta-btn img{width:24px;height:24px}

/* BaÅŸlÄ±k */
h1{text-align:center;text-shadow:0 0 15px cyan;margin-bottom:15px}

/* Metin alanÄ± */
textarea{
    width:100%;padding:12px;margin-bottom:8px;
    background:rgba(255,255,255,0.2);color:white;
    border:none;border-radius:12px;resize:vertical;
}

/* YÄ±ldÄ±z */
.star{
    font-size:35px;text-align:center;margin-bottom:10px;
    cursor:pointer;user-select:none;
}
.star.on{color:yellow;text-shadow:0 0 15px yellow}

/* Buton */
.btn{
    width:100%;padding:12px;border:none;
    border-radius:12px;font-weight:bold;
    background:cyan;color:black;margin-bottom:15px;
    cursor:pointer;
}
.btn.alt{background:#ffcc00}
.btn.danger{background:#ff0066;color:white}

/* Not Kutusu */
.note{
    background:rgba(0,0,0,0.45);padding:12px;
    border-radius:10px;border-left:4px solid cyan;
    margin-bottom:12px;position:relative;
}

/* Not Sil/DÃ¼zenle */
.noteBtn{
    position:absolute;top:10px;padding:5px 8px;
    font-size:12px;border-radius:6px;cursor:pointer;
    color:white
}
.del{right:10px;background:#ff0066}
.edit{right:60px;background:#00ff99}

/* Ses seÃ§enekleri */
select,input[type=range]{width:100%;margin-bottom:10px}
</style>
</head>
<body>

<div class="card">

<!-- INSTAGRAM LOGOLU Ä°LETÄ°ÅÄ°M -->
<a class="insta-btn" href="https://instagram.com/barriss__" target="_blank">
    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png">
    Ä°LETÄ°ÅÄ°M â€“ @barriss__
</a>

<h1>ğŸ”¥ BRSKO NOTES ğŸ”¥</h1>

<!-- TTS -->
<h3>ğŸ—£ Metinden Ses</h3>
<textarea id="ttsText" rows="3" placeholder="Seslendirilecek metni yaz..."></textarea>

<select id="voiceSelect"></select>

<label>HÄ±z: <span id="rateVal">1</span></label>
<input type="range" id="rate" min="0.5" max="2" step="0.1" value="1">

<label>Ton: <span id="pitchVal">1</span></label>
<input type="range" id="pitch" min="0.5" max="2" step="0.1" value="1">

<button class="btn" onclick="speakText()">â–¶ Seslendir</button>
<button class="btn alt" onclick="generateMP3()">â¬‡ MP3 Olarak Ä°ndir</button>
<button class="btn danger" onclick="stopSpeak()">â¹ Durdur</button>

<hr style="opacity:0.3;margin:20px 0">

<!-- NOT -->
<h3>ğŸ“ Not Ekle</h3>
<textarea id="noteInput" rows="3" placeholder="Notun..."></textarea>

<div id="star" class="star">â˜†</div>

<button class="btn" onclick="saveNote()">â­ YÄ±ldÄ±zlÄ± Notu Kaydet</button>

<h3>ğŸ“‚ Kaydedilen Notlar</h3>
<div id="notesArea"></div>

</div>

<script>

/* ======================
   20 SES - TTS LÄ°STE
====================== */
let voices=[];

function loadVoices(){
    voices=speechSynthesis.getVoices();

    let tr = voices.filter(v=>v.lang.toLowerCase().startsWith("tr"));
    let other = voices.filter(v=>!v.lang.toLowerCase().startsWith("tr"));
    let combined = tr.concat(other).slice(0,20);

    let html="";
    combined.forEach(v=>{
        html+=`<option value="${v.lang}|${v.name}">${v.name} (${v.lang})</option>`;
    });

    document.getElementById("voiceSelect").innerHTML=html;
}

speechSynthesis.onvoiceschanged=loadVoices;

/* ======================
   TARAYICI ÃœZERÄ°NDEN SESLENDÄ°RME
====================== */
function speakText(){
    let text=document.getElementById("ttsText").value;
    if(!text){alert("Metin yok");return;}

    let msg=new SpeechSynthesisUtterance(text);
    let selected=document.getElementById("voiceSelect").value.split("|")[1];

    msg.voice=voices.find(v=>v.name===selected);
    msg.rate=parseFloat(document.getElementById("rate").value);
    msg.pitch=parseFloat(document.getElementById("pitch").value);

    speechSynthesis.speak(msg);
}

function stopSpeak(){ speechSynthesis.cancel(); }

/* ======================
   GERÃ‡EK MP3 ÃœRETME â€” BACKEND'SÄ°Z
   ELEVENLABS API
====================== */

async function generateMP3(){

    let text=document.getElementById("ttsText").value.trim();
    if(!text){alert("Metin yok");return;}

    const API_KEY = "BURAYA_API_ANAHTIN_GELECEK";  // â— BURAYA ANAHTI YAZ

    // 11Labs TTS Model
    const VOICE_ID = "21m00Tcm4TlvDq8ikWAM"; 

    let response = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${VOICE_ID}`,{
        method:"POST",
        headers:{
            "Content-Type":"application/json",
            "xi-api-key":API_KEY
        },
        body:JSON.stringify({
            text: text,
            voice_settings:{stability:0.5,similarity_boost:0.5}
        })
    });

    let blob = await response.blob();
    let url = URL.createObjectURL(blob);

    let a = document.createElement("a");
    a.href = url;
    a.download = "brsko_ses.mp3";
    a.click();

    URL.revokeObjectURL(url);
    alert("MP3 baÅŸarÄ±yla indirildi!");
}

/* ======================
   NOT SÄ°STEMÄ°
====================== */
let star=document.getElementById("star");
let starred=false;

star.onclick=()=>{
    starred=!starred;
    star.innerHTML=starred?"â­":"â˜†";
    star.classList.toggle("on",starred);
};

if(!localStorage.getItem("notes")) localStorage.setItem("notes",JSON.stringify([]));

function saveNote(){
    if(!starred){alert("â­ YÄ±ldÄ±z olmadan kaydedilmez!");return;}

    let text=document.getElementById("noteInput").value.trim();
    if(!text) return;

    let list=JSON.parse(localStorage.getItem("notes"));
    list.push(text);
    localStorage.setItem("notes",JSON.stringify(list));

    document.getElementById("noteInput").value="";
    starred=false; star.innerHTML="â˜†"; star.classList.remove("on");

    loadNotes();
}

function loadNotes(){
    let list=JSON.parse(localStorage.getItem("notes"));
    let html="";
    list.forEach((n,i)=>{
        html+=`
        <div class="note">
            ğŸ“Œ ${n}
            <div class="noteBtn edit" onclick="editNote(${i})">DÃ¼zenle</div>
            <div class="noteBtn del" onclick="deleteNote(${i})">Sil</div>
        </div>`;
    });

    document.getElementById("notesArea").innerHTML=html;
}
loadNotes();

function deleteNote(i){
    let list=JSON.parse(localStorage.getItem("notes"));
    list.splice(i,1);
    localStorage.setItem("notes",JSON.stringify(list));
    loadNotes();
}

function editNote(i){
    let list=JSON.parse(localStorage.getItem("notes"));
    let yeni=prompt("Notu dÃ¼zenle:",list[i]);
    if(yeni!==null){
        list[i]=yeni;
        localStorage.setItem("notes",JSON.stringify(list));
        loadNotes();
    }
}

</script>

</body>
</html>
